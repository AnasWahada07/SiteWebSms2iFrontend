
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm fixed-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/acceuil" aria-label="Accueil SMS2!">
      <i class="fas fa-cogs me-1"></i> <span>SMS</span>2<span>!</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center gap-2">
        <li class="nav-item"><a class="nav-link" href="/acceuil">Accueil</a></li>
        <li class="nav-item"><a class="nav-link" href="/service">Services</a></li>
        <li class="nav-item"><a class="nav-link" href="/galerie">Galerie</a></li>
        <li class="nav-item"><a class="nav-link" href="/espaceuniversitaire">Espace Universitaire</a></li>
        <li class="nav-item"><a class="nav-link" href="/formation">Formation</a></li>
        <li class="d-flex gap-2 ms-3">
          <a href="/signin" class="btn btn-outline-light btn-sm">Se connecter</a>
          <a href="/signup" class="btn btn-light text-dark btn-sm">S'inscrire</a>
        </li>
        <!-- üîÅ Google Translate int√©gr√© -->
        <li class="nav-item">
          <div id="google_translate_element"></div>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="hero-title">Espace Universitaire</h1>
            <p class="hero-subtitle">Espace Collaboratif Pour Enseignants et √âtudiants</p>
        </div>
    </section>

    <!-- Espace Enseignant -->
    <section id="enseignant" class="py-5">
        <div class="container">
            <h2 class="space-title"><i class="fas fa-chalkboard-teacher me-2"></i>Espace Enseignant</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card card-space">
                        <img src="assets/competence.jpg" class="card-img-top" alt="D√©poser Comp√©tence">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-plus-circle me-2 text-primary"></i>D√©poser votre comp√©tence</h5>
                            <p class="card-text">Partagez vos comp√©tences avec la communaut√© universitaire.</p>
                            <button class="btn btn-univ" data-bs-toggle="modal" data-bs-target="#deposerCompetenceModal">
                                <i class="fas fa-upload me-1"></i> D√©poser
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card card-space">
                        <img src="assets/pfe.png" class="card-img-top" alt="Proposer Sujet PFE">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-lightbulb me-2 text-primary"></i>Proposer un sujet PFE</h5>
                            <p class="card-text">Soumettez des sujets pour les projets de fin d'√©tudes.</p>
                            <button class="btn btn-univ" data-bs-toggle="modal" data-bs-target="#proposerSujetModal">
                                <i class="fas fa-paper-plane me-1"></i> Proposer
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!-- competence-form.component.html -->
<div class="modal fade" id="deposerCompetenceModal" tabindex="-1" aria-labelledby="deposerCompetenceModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <form [formGroup]="competenceForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <div class="modal-header">
          <h5 class="modal-title" id="deposerCompetenceModalLabel">
            <i class="fas fa-plus-circle me-2"></i> D√©poser votre comp√©tence
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <div *ngIf="successMessage" class="alert alert-success">
            {{ successMessage }}
          </div>
          <div *ngIf="errorMessage" class="alert alert-danger">
            {{ errorMessage }}
          </div>

          <div class="row mb-3">
            <div class="col-md-6">
              <label>Nom</label>
              <input type="text" class="form-control" formControlName="nom" />
              <div class="text-danger mt-1" *ngIf="competenceForm.get('nom')?.touched && competenceForm.get('nom')?.invalid">
                Le nom est requis.
              </div>
            </div>

            <div class="col-md-6">
              <label>Pr√©nom</label>
              <input type="text" class="form-control" formControlName="prenom" />
              <div class="text-danger mt-1" *ngIf="competenceForm.get('prenom')?.touched && competenceForm.get('prenom')?.invalid">
                Le pr√©nom est requis.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label>Email</label>
            <input type="email" class="form-control" formControlName="email" />
            <div class="text-danger mt-1" *ngIf="competenceForm.get('email')?.touched && competenceForm.get('email')?.invalid">
              <span *ngIf="competenceForm.get('email')?.errors?.['required']">L'email est requis.</span>
              <span *ngIf="competenceForm.get('email')?.errors?.['email']">Format d'email invalide.</span>
            </div>
          </div>

          <div class="mb-3">
            <label>Adresse</label>
            <input type="text" class="form-control" formControlName="adresse" />
            <div class="text-danger mt-1" *ngIf="competenceForm.get('adresse')?.touched && competenceForm.get('adresse')?.invalid">
              L'adresse est requise.
            </div>
          </div>

          <div class="mb-3">
            <label>T√©l√©phone</label>
            <input type="tel" class="form-control" formControlName="telephone" />
            <div class="text-danger mt-1" *ngIf="competenceForm.get('telephone')?.touched && competenceForm.get('telephone')?.invalid">
              <span *ngIf="competenceForm.get('telephone')?.errors?.['required']">Le t√©l√©phone est requis.</span>
              <span *ngIf="competenceForm.get('telephone')?.errors?.['pattern']">Num√©ro invalide (8 √† 15 chiffres).</span>
            </div>
          </div>

          <div class="mb-3">
            <label>Sp√©cialit√©</label>
            <input type="text" class="form-control" formControlName="specialite" />
            <div class="text-danger mt-1" *ngIf="competenceForm.get('specialite')?.touched && competenceForm.get('specialite')?.invalid">
              La sp√©cialit√© est requise.
            </div>
          </div>

          <div class="mb-3">
            <label>Comp√©tence</label>
            <textarea class="form-control" formControlName="competence"></textarea>
            <div class="text-danger mt-1" *ngIf="competenceForm.get('competence')?.touched && competenceForm.get('competence')?.invalid">
              <span *ngIf="competenceForm.get('competence')?.errors?.['required']">Ce champ est requis.</span>
              <span *ngIf="competenceForm.get('competence')?.errors?.['minlength']">Minimum 10 caract√®res.</span>
            </div>
          </div>

          <div class="mb-3">
            <label>Exp√©rience</label>
            <textarea class="form-control" formControlName="experience"></textarea>
            <div class="text-danger mt-1" *ngIf="competenceForm.get('experience')?.touched && competenceForm.get('experience')?.invalid">
              <span *ngIf="competenceForm.get('experience')?.errors?.['required']">Ce champ est requis.</span>
              <span *ngIf="competenceForm.get('experience')?.errors?.['minlength']">Minimum 10 caract√®res.</span>
            </div>
          </div>

          <div class="mb-3">
            <label>Pi√®ce jointe (CV)</label>
            <input 
              type="file" 
              id="cvFileInput"
              class="form-control" 
              (change)="onFileChange($event)" 
              accept=".pdf,.doc,.docx" 
            />
            <small class="text-muted">Formats accept√©s : PDF, DOC, DOCX</small>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <!-- ‚úÖ plus de [disabled] -->
          <button type="submit" class="btn btn-univ">
            <i class="fas fa-check me-1"></i> Soumettre
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal Proposer Sujet PFE -->
<form #pfeForm="ngForm" (ngSubmit)="onSubmitpfe()" enctype="multipart/form-data">
  <div class="modal fade" id="proposerSujetModal" tabindex="-1" aria-labelledby="proposerSujetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">
            <i class="fas fa-lightbulb me-2"></i>Proposer un sujet PFE
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">

          <div class="row mb-3">
            <div class="col-md-6">
              <label for="pfeNom" class="form-label">Nom</label>
              <input
                type="text"
                class="form-control"
                id="pfeNom"
                name="nom"
                [(ngModel)]="sujet.nom"
                #nom="ngModel"
                required
                minlength="2"
              />
              <div *ngIf="(nom.touched || pfeForm.submitted) && nom.invalid" class="text-danger">
                <small *ngIf="nom.errors?.['required']">Le nom est requis.</small>
                <small *ngIf="nom.errors?.['minlength']">Minimum 2 caract√®res requis.</small>
              </div>
            </div>

            <div class="col-md-6">
              <label for="pfePrenom" class="form-label">Pr√©nom</label>
              <input
                type="text"
                class="form-control"
                id="pfePrenom"
                name="prenom"
                [(ngModel)]="sujet.prenom"
                #prenom="ngModel"
                required
                minlength="2"
              />
              <div *ngIf="(prenom.touched || pfeForm.submitted) && prenom.invalid" class="text-danger">
                <small *ngIf="prenom.errors?.['required']">Le pr√©nom est requis.</small>
                <small *ngIf="prenom.errors?.['minlength']">Minimum 2 caract√®res requis.</small>
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="pfeEmail" class="form-label">Email</label>
            <input
              type="email"
              class="form-control"
              id="pfeEmail"
              name="email"
              [(ngModel)]="sujet.email"
              #email="ngModel"
              required
              email
            />
            <div *ngIf="(email.touched || pfeForm.submitted) && email.invalid" class="text-danger">
              <small *ngIf="email.errors?.['required']">L‚Äôemail est requis.</small>
              <small *ngIf="email.errors?.['email']">Format email invalide.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="pfeTitre" class="form-label">Titre</label>
            <input
              type="text"
              class="form-control"
              id="pfeTitre"
              name="titre"
              [(ngModel)]="sujet.titre"
              #titre="ngModel"
              required
              minlength="5"
            />
            <div *ngIf="(titre.touched || pfeForm.submitted) && titre.invalid" class="text-danger">
              <small *ngIf="titre.errors?.['required']">Le titre est requis.</small>
              <small *ngIf="titre.errors?.['minlength']">Minimum 5 caract√®res requis.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="pfeDescription" class="form-label">Description</label>
            <textarea
              class="form-control"
              id="pfeDescription"
              name="description"
              [(ngModel)]="sujet.description"
              #description="ngModel"
              rows="5"
              required
              minlength="10"
            ></textarea>
            <div *ngIf="(description.touched || pfeForm.submitted) && description.invalid" class="text-danger">
              <small *ngIf="description.errors?.['required']">La description est requise.</small>
              <small *ngIf="description.errors?.['minlength']">Minimum 10 caract√®res requis.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="pfeType" class="form-label">Type de sujet PFE</label>
            <select
              class="form-select"
              id="pfeType"
              name="typeSujet"
              [(ngModel)]="sujet.type"
              #typeSujet="ngModel"
              required
            >
              <option value="" disabled selected hidden>-- S√©lectionnez un type --</option>
              <option value="Informatique">Informatique</option>
              <option value="Informatique Industrielle">Informatique Industrielle</option>
            </select>
            <div *ngIf="(typeSujet.touched || pfeForm.submitted) && typeSujet.invalid" class="text-danger">
              <small>Veuillez s√©lectionner un type de sujet.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="pfeFile" class="form-label">Pi√®ce jointe</label>
            <input
              type="file"
              class="form-control"
              id="pfeFile"
              (change)="onFileChangepfe($event)"
              accept=".pdf,.doc,.docx"
              required
            />
            <small class="text-muted">Formats accept√©s : .pdf, .doc, .docx</small>
            <div *ngIf="pfeForm.submitted && !selectedFile" class="text-danger mt-1">
              <small>Veuillez s√©lectionner un fichier valide.</small>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <button type="submit" class="btn btn-primary" [disabled]="pfeForm.invalid || !selectedFile">
            <i class="fas fa-check me-1"></i> Proposer
          </button>
        </div>

      </div>
    </div>
  </div>
</form>
<!-- section PFE -->
<section id="pfe" class="py-5 bg-light-blue">
  <div class="container">
    <h2 class="space-title">
      <i class="fas fa-graduation-cap me-2"></i>
      Espace Projet Fin d'√âtude
    </h2>

    <!-- Informatique -->
    <div class="category-section mb-5" *ngIf="sujetsInfo && sujetsInfo.length > 0; else noSujetsInfo">
      <h3 class="category-title mb-4">
        <i class="fas fa-laptop-code me-2"></i>Informatique
      </h3>
      <div class="row">
        <div class="col-md-6 mb-4" *ngFor="let sujet of sujetsInfo">
          <div class="card card-space h-100">
            <div class="card-body d-flex flex-column">
              <div class="pfe-icon mb-3">
                <i class="fas fa-university fa-3x text-univ"></i>
              </div>
              <h5 class="card-title">{{ sujet.titre }}</h5>
              <p class="card-text">{{ sujet.description }}</p>
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="price-tag">
                  <span class="badge bg-warning text-dark">
                    Prix Encadrement: {{ sujet.prixEncadrement }} TND
                  </span>
                </div>
              </div>
              <button class="btn btn-univ mt-auto"
                      data-bs-toggle="modal"
                      data-bs-target="#inscriptionModal"
                      [attr.data-projet]="sujet.titre"
                      [attr.data-projet-id]="sujet.id">
                <i class="fas fa-user-plus me-1"></i> S'inscrire
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Informatique Industrielle -->
    <div class="category-section" *ngIf="informatiqueIndustrielle && informatiqueIndustrielle.length > 0; else noSujetsIndus">
      <h3 class="category-title mb-4">
        <i class="fas fa-industry me-2"></i>Informatique Industrielle
      </h3>
      <div class="row">
        <div class="col-md-6 mb-4" *ngFor="let sujet of informatiqueIndustrielle">
          <div class="card card-space h-100">
            <div class="card-body d-flex flex-column">
              <div class="pfe-icon mb-3">
                <i class="fas fa-robot fa-3x text-univ"></i>
              </div>
              <h5 class="card-title">{{ sujet.titre }}</h5>
              <p class="card-text">{{ sujet.description }}</p>
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="price-tag">
                  <span class="badge bg-warning text-dark">
                    Prix Encadrement : {{ sujet.prixEncadrement }} TND
                  </span>
                </div>
              </div>
              <button class="btn btn-univ mt-auto"
                      data-bs-toggle="modal"
                      data-bs-target="#inscriptionModal"
                      [attr.data-projet]="sujet.titre"
                      [attr.data-projet-id]="sujet.id">
                <i class="fas fa-user-plus me-1"></i> S'inscrire
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Messages d'absence de donn√©es -->
    <ng-template #noSujetsInfo>
      <div class="no-data-container info">
        <i class="fas fa-laptop-code no-data-icon"></i>
        <h3 class="no-data-title">Aucun sujet disponible</h3>
        <p class="no-data-text">Aucun sujet d'Informatique n'est disponible pour le moment.</p>
        <p class="no-data-hint">V√©rifiez ult√©rieurement ou proposez un sujet</p>
      </div>
    </ng-template>

    <ng-template #noSujetsIndus>
      <div class="no-data-container industrial">
        <i class="fas fa-robot no-data-icon"></i>
        <h3 class="no-data-title">Aucun sujet disponible</h3>
        <p class="no-data-text">Aucun sujet d'Informatique Industrielle n'est disponible actuellement.</p>
        <p class="no-data-hint">V√©rifiez ult√©rieurement ou proposez un sujet</p>
      </div>
    </ng-template>
  </div>
</section>

<!-- Modal d'inscription -->
<form #inscriptionForm="ngForm" (ngSubmit)="submitInscription()" id="formInscriptionPFE">
  <div class="modal fade" id="inscriptionModal" tabindex="-1" aria-labelledby="inscriptionModalLabel" aria-hidden="true"
       (shown.bs.modal)="openModal($event)">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-univ text-white">
          <h5 class="modal-title" id="inscriptionModalLabel">Inscription au PFE</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <input type="hidden" id="projetSelectionne">
          <input type="hidden" id="projetId">

          <div class="mb-3">
            <label for="nom" class="form-label">Nom</label>
            <input type="text" class="form-control" id="nom" name="nom" [(ngModel)]="formData.nom" #nom="ngModel" required>
            <div *ngIf="(nom.touched || inscriptionForm.submitted) && nom.invalid" class="text-danger">
              <small>Le nom est requis.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="prenom" class="form-label">Pr√©nom</label>
            <input type="text" class="form-control" id="prenom" name="prenom" [(ngModel)]="formData.prenom" #prenom="ngModel" required>
            <div *ngIf="(prenom.touched || inscriptionForm.submitted) && prenom.invalid" class="text-danger">
              <small>Le pr√©nom est requis.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="telephone" class="form-label">T√©l√©phone</label>
            <input type="tel" class="form-control" id="telephone" name="telephone"
                   [(ngModel)]="formData.telephone" #telephone="ngModel"
                   required pattern="^[0-9]{8,15}$">
            <div *ngIf="(telephone.touched || inscriptionForm.submitted) && telephone.invalid" class="text-danger">
              <small *ngIf="telephone.errors?.['required']">Le num√©ro est requis.</small>
              <small *ngIf="telephone.errors?.['pattern']">Num√©ro invalide (8 √† 15 chiffres).</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email"
                   [(ngModel)]="formData.email" #email="ngModel"
                   required email
                   [pattern]="'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'">
            <div *ngIf="(email.touched || inscriptionForm.submitted) && email.invalid" class="text-danger">
              <small *ngIf="email.errors?.['required']">L‚Äôemail est requis.</small>
              <small *ngIf="email.errors?.['email']">Format d‚Äôemail invalide.</small>
              <small *ngIf="email.errors?.['pattern']">Veuillez entrer un email valide </small>
            </div>
          </div>

          <div class="mb-3">
            <label for="classe" class="form-label">Classe</label>
            <input type="text" class="form-control" id="classe" name="classe" [(ngModel)]="formData.classe" #classe="ngModel" required>
            <div *ngIf="(classe.touched || inscriptionForm.submitted) && classe.invalid" class="text-danger">
              <small>La classe est requise.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="specialite" class="form-label">Sp√©cialit√©</label>
            <input type="text" class="form-control" id="specialite" name="specialite" [(ngModel)]="formData.specialite" #specialite="ngModel" required>
            <div *ngIf="(specialite.touched || inscriptionForm.submitted) && specialite.invalid" class="text-danger">
              <small>La sp√©cialit√© est requise.</small>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
          <button type="submit" class="btn btn-univ" [disabled]="inscriptionForm.invalid">
            Confirmer
          </button>
        </div>
      </div>
    </div>
  </div>
</form>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        var inscriptionModal = document.getElementById('inscriptionModal');
        
        inscriptionModal.addEventListener('show.bs.modal', function (event) {
            var button = event.relatedTarget; // Bouton qui a d√©clench√© le modal
            var projet = button.getAttribute('data-projet');
            document.getElementById('projetSelectionne').value = projet;
            document.getElementById('inscriptionModalLabel').textContent = 'Inscription - ' + projet;
        });
        
        document.getElementById('btnConfirmerInscription').addEventListener('click', function() {
            // Ici vous pouvez ajouter le code pour traiter le formulaire
            alert('Inscription envoy√©e avec succ√®s!');
            var modal = bootstrap.Modal.getInstance(inscriptionModal);
            modal.hide();
        });
    });
</script>

<!-- Espace Maquette pour formation -->
<section id="maquette" class="py-5 bg-light">
    <div class="container">
        <h2 class="space-title text-center mb-5"><i class="fas fa-puzzle-piece me-2 text-primary"></i>Espace Maquette Pour Formation</h2>
        
        <div class="row g-4 justify-content-center">
            <div class="col-lg-5 col-md-6">
                <div class="card card-space border-0 shadow-sm h-100">
                    <div class="card-body p-4 text-center">
                        <div class="icon-wrapper bg-primary-light mb-4 mx-auto rounded-circle">
                            <i class="fas fa-share-square text-primary fa-2x"></i>
                        </div>
                        <h3 class="h5 card-title mb-3">Proposer une maquette</h3>
                        <p class="card-text text-muted mb-4">
                            Partagez vos maquettes didactiques avec la communaut√© √©ducative.
                        </p>
                        <button class="btn btn-univ px-4" data-bs-toggle="modal" data-bs-target="#proposerMaquetteModal">
                            <i class="fas fa-paper-plane me-2"></i> Proposer
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-5 col-md-6">
                <div class="card card-space border-0 shadow-sm h-100">
                    <div class="card-body p-4 text-center">
                        <div class="icon-wrapper bg-primary-light mb-4 mx-auto rounded-circle">
                            <i class="fas fa-hand-holding text-primary fa-2x"></i>
                        </div>
                        <h3 class="h5 card-title mb-3">Demander une maquette</h3>
                        <p class="card-text text-muted mb-4">
                            Besoin d'une maquette sp√©cifique pour vos besoins p√©dagogiques ?
                        </p>
                        <button class="btn btn-univ px-4" data-bs-toggle="modal" data-bs-target="#demanderMaquetteModal">
                            <i class="fas fa-download me-2"></i> Demander
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modal Proposer Maquette -->
<div class="modal fade" id="proposerMaquetteModal" tabindex="-1" aria-labelledby="proposerMaquetteModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="proposerMaquetteModalLabel">
          <i class="fas fa-share-square me-2"></i>Proposer une maquette
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form (ngSubmit)="onSubmitsMaquette()" #maquetteForm="ngForm" enctype="multipart/form-data">
        <div class="modal-body p-4">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="maqNom" class="form-label">Nom</label>
              <input type="text" class="form-control" id="maqNom" name="nom" [(ngModel)]="form.nom" #nom="ngModel" required>
              <div *ngIf="(nom.touched || maquetteForm.submitted) && nom.invalid" class="text-danger">
                <small>Le nom est requis.</small>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="maqPrenom" class="form-label">Pr√©nom</label>
              <input type="text" class="form-control" id="maqPrenom" name="prenom" [(ngModel)]="form.prenom" #prenom="ngModel" required>
              <div *ngIf="(prenom.touched || maquetteForm.submitted) && prenom.invalid" class="text-danger">
                <small>Le pr√©nom est requis.</small>
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="maqtelephone" class="form-label">T√©l√©phone</label>
            <input type="tel" class="form-control" id="maqtelephone" name="telephone"
                   [(ngModel)]="form.telephone" #telephone="ngModel"
                   required pattern="^[0-9]{8,15}$">
            <div *ngIf="(telephone.touched || maquetteForm.submitted) && telephone.invalid" class="text-danger">
              <small *ngIf="telephone.errors?.['required']">Le t√©l√©phone est requis.</small>
              <small *ngIf="telephone.errors?.['pattern']">Le num√©ro doit contenir entre 8 et 15 chiffres.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="maqEmail" class="form-label">Email</label>
            <input type="email" class="form-control" id="maqEmail" name="email"
                   [(ngModel)]="form.email" #email="ngModel"
                   required email
                   [pattern]="'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'">
            <div *ngIf="(email.touched || maquetteForm.submitted) && email.invalid" class="text-danger">
              <small *ngIf="email.errors?.['required']">L‚Äôemail est requis.</small>
              <small *ngIf="email.errors?.['email']">Format d‚Äôemail invalide.</small>
              <small *ngIf="email.errors?.['pattern']">Veuillez saisir un email valide .</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="maqDescription" class="form-label">Description de la maquette</label>
            <textarea class="form-control" id="maqDescription" name="description"
                      [(ngModel)]="form.description" #description="ngModel"
                      rows="4" required></textarea>
            <div *ngIf="(description.touched || maquetteForm.submitted) && description.invalid" class="text-danger">
              <small>La description est requise.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="maqFichier" class="form-label">Fichier de la maquette (PDF, ZIP, etc.)</label>
            <input class="form-control" type="file" id="maqFichier"
                   (change)="onFileSelectedMaquette($event)" accept=".pdf,.zip,.doc,.docx" required>
            <div *ngIf="maquetteForm.submitted && !selectedFileMaquette" class="text-danger mt-1">
              <small>Veuillez s√©lectionner un fichier √† joindre.</small>
            </div>

            <!-- Aper√ßu du fichier -->
            <div *ngIf="selectedFileMaquette" class="mt-2 text-muted small">
              <i class="fas fa-file me-1"></i> {{ selectedFileMaquette.name }}
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
          <button type="submit" class="btn btn-primary" [disabled]="maquetteForm.invalid || loading">
            <i *ngIf="!loading" class="fas fa-paper-plane me-1"></i>
            <span *ngIf="loading" class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
            {{ loading ? 'Envoi en cours...' : 'Envoyer la proposition' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ‚úÖ Toast Succ√®s -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1055">
  <div id="toastSuccess" class="toast align-items-center text-white bg-success border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
        ‚úÖ Proposition envoy√©e avec succ√®s.
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>

<!-- ‚ùå Toast Erreur -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1055">
  <div id="toastError" class="toast align-items-center text-white bg-danger border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
        ‚ùå Une erreur s‚Äôest produite lors de l‚Äôenvoi.
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>

<!-- Modal Demander Maquette -->
<div class="modal fade" id="demanderMaquetteModal" tabindex="-1" aria-labelledby="demanderMaquetteModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form [formGroup]="demandeMaquetteForm" (ngSubmit)="onSubmitDemandeMaquette()">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="demanderMaquetteModalLabel">
            <i class="fas fa-hand-holding me-2"></i>Demander une maquette
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body p-4">

          <!-- Nom complet -->
          <div class="mb-3">
            <label for="demNomComplet" class="form-label">Nom complet</label>
            <input type="text" id="demNomComplet" class="form-control" formControlName="nomComplet" />
            <div *ngIf="demandeMaquetteForm.get('nomComplet')?.touched && demandeMaquetteForm.get('nomComplet')?.invalid" class="text-danger">
              <small *ngIf="demandeMaquetteForm.get('nomComplet')?.errors?.['required']">Le nom complet est requis.</small>
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="demEmail" class="form-label">Email</label>
            <input type="email" id="demEmail" class="form-control" formControlName="email" />
            <div *ngIf="demandeMaquetteForm.get('email')?.touched && demandeMaquetteForm.get('email')?.invalid" class="text-danger">
              <small *ngIf="demandeMaquetteForm.get('email')?.errors?.['required']">L‚Äôemail est requis.</small>
              <small *ngIf="demandeMaquetteForm.get('email')?.errors?.['email']">Format d‚Äôemail invalide.</small>
            </div>
          </div>

          <!-- Institution -->
          <div class="mb-3">
            <label for="demInstitution" class="form-label">Institution/√âtablissement</label>
            <input type="text" id="demInstitution" class="form-control" formControlName="institution" />
          </div>

          <!-- Description -->
          <div class="mb-3">
            <label for="demDescription" class="form-label">Description de votre besoin</label>
            <textarea class="form-control" id="demDescription" formControlName="descriptionBesoin" rows="4"></textarea>
            <div *ngIf="demandeMaquetteForm.get('descriptionBesoin')?.touched && demandeMaquetteForm.get('descriptionBesoin')?.invalid" class="text-danger">
              <small *ngIf="demandeMaquetteForm.get('descriptionBesoin')?.errors?.['required']">La description est requise.</small>
            </div>
          </div>

          <!-- Date souhait√©e -->
          <div class="mb-3">
            <label for="demDate" class="form-label">Date souhait√©e de r√©ception</label>
            <input type="date" id="demDate" class="form-control" formControlName="dateSouhaitee" />
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
          <button type="submit" class="btn btn-primary" [disabled]="demandeMaquetteForm.invalid">
            <i class="fas fa-paper-plane me-1"></i> Envoyer la demande
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

    

<!-- Footer -->
<footer class="bg-dark text-light pt-5 pb-4 mt-5 shadow-lg">
  <div class="container">
    <div class="row">

      <!-- Logo et description -->
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold text-uppercase mb-3"><i class="fas fa-cogs me-2"></i>SMS2I</h5>
        <p>
          SMS2I est votre partenaire de confiance dans l'automatisation industrielle, la formation technique, et les services de maintenance sur mesure.
        </p>
        <div class="d-flex gap-2">
          <a href="https://www.facebook.com/people/SMS2i/100067593331912/" class="text-light fs-5"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="text-light fs-5"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" class="text-light fs-5"><i class="fab fa-youtube"></i></a>
        </div>
      </div>

      <!-- Liens rapides -->
      <div class="col-md-4 mb-4">
        <h6 class="text-uppercase fw-bold mb-3">Navigation</h6>
        <ul class="list-unstyled">
          <li><a href="/acceuil" class="text-light text-decoration-none">Accueil</a></li>
          <li><a href="/service" class="text-light text-decoration-none">Services</a></li>
          <li><a href="/galerie" class="text-light text-decoration-none">Galerie</a></li>
          <li><a href="/formation" class="text-light text-decoration-none">Formations</a></li>
          <li><a href="#" class="text-light text-decoration-none" data-bs-toggle="modal" data-bs-target="#contactModal">Contact</a></li>
        </ul>
      </div>

      <!-- Contact rapide -->
      <div class="col-md-4 mb-4">
        <h6 class="text-uppercase fw-bold mb-3">Contact</h6>
        <p><i class="fas fa-map-marker-alt me-2"></i>Rue 14 janvier (GP1), Imm Neodeme 1ere Etage, Messadine 4013, Sousse</p>
        <p><i class="fas fa-phone me-2"></i>+216 73 284 160</p>
        <p><i class="fas fa-envelope me-2"></i>contact.sms2i.tn</p>
      </div>
    </div>

    <hr class="border-top border-light">

    <div class="text-center small">
      &copy; {{ currentYear || '2025' }} SMS2I. Tous droits r√©serv√©s.
    </div>
  </div>
</footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
