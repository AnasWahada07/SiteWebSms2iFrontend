<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm fixed-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/acceuil" aria-label="Accueil SMS2!">
      <i class="fas fa-cogs me-1"></i> <span>SMS</span>2<span>!</span>
    </a>

    <!-- Toggle button -->
    <button class="navbar-toggler" type="button" (click)="toggleSidebar()" aria-label="Toggle navigation">
      <span *ngIf="isNavbarCollapsed" class="navbar-toggler-icon"></span>
      <i *ngIf="!isNavbarCollapsed" class="bi bi-x-lg fs-3 text-white"></i>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse" [ngClass]="{ 'show': !isNavbarCollapsed }" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center gap-2">
        <li class="nav-item"><a class="nav-link" href="/acceuil">Accueil</a></li>
        <li class="nav-item"><a class="nav-link" href="/service">Services</a></li>
        <li class="nav-item"><a class="nav-link" href="/galerie">Galerie</a></li>
        <li class="nav-item"><a class="nav-link" href="/espaceuniversitaire">Espace Universitaire</a></li>
        <li class="nav-item"><a class="nav-link" href="/formation">Formation</a></li>
        <li class="d-flex gap-2 ms-3">
          <a href="/signin" class="btn btn-outline-light btn-sm">Se connecter</a>
          <a href="/signup" class="btn btn-light text-dark btn-sm">S'inscrire</a>
        </li>

        <!-- S√©lecteur de langue Google -->
        <li class="nav-item">
          <div id="google_translate_element"></div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="hero-section" id="home">
  <div class="floating-elements">
    <div class="floating-element"><i class="fas fa-cog"></i></div>
    <div class="floating-element"><i class="fas fa-robot"></i></div>
    <div class="floating-element"><i class="fas fa-industry"></i></div>
    <div class="floating-element"><i class="fas fa-microchip"></i></div>
  </div>
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-7">
        <div class="hero-content animate__animated animate__fadeInUp">
          <h1 class="hero-title">WELCOME TO <span>SMS2!</span></h1>
          <p class="hero-subtitle">SMS2! offre des services complets d'automatisation et de maintenance pour optimiser vos processus industriels.</p>
          <div class="d-flex gap-3">
            <a href="#"
               class="btn btn-primary d-inline-flex align-items-center gap-2 px-3 py-2 shadow-sm contact-btn"
               role="button"
               aria-label="Ouvrir le formulaire de contact"
               data-bs-toggle="modal"
               data-bs-target="#contactModal">
              <i class="bi bi-envelope-fill"></i>
              <span>Contactez-nous</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Services Section -->
<section class="services-section py-5" id="services">
  <div class="container">
    <div class="text-center mb-5 animate__animated animate__fadeIn">
      <h2 class="section-title">Nos Services</h2>
      <p class="section-subtitle">Des solutions compl√®tes pour vos besoins industriels</p>
    </div>

    <div class="row g-4">
      <!-- Service 1 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.1s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-robot"></i></div>
          <h3>Integration des syst√®mes</h3>
          <p>SMS2I assure l'int√©gration de plusieurs solutions dans les diff√©rents domaines industriels : armoires √©lectriques, c√¢blage, r√©seaux √©lectriques, impl√©mentation de solutions compl√®tes.</p>
        </div>
      </div>

      <!-- Service 2 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.2s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-desktop"></i></div>
          <h3>Automatisme et Engineering Industriel</h3>
          <p>Automatisme, contr√¥le et instrumentation √©lectrique, gestion des processus et r√©seaux industriels intelligents.</p>
        </div>
      </div>

      <!-- Service 3 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.3s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-tools"></i></div>
          <h3>Construction M√©canique</h3>
          <p>Conception et Fabrication compl√®te des pi√®ces de rechange m√©canique sp√©ciales en interne (Usinage , Ajustage , Montage).</p>
        </div>
      </div>

      <!-- Service 4 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.4s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-microchip"></i></div>
          <h3>Instrumentation Industrielle</h3>
          <p>Installation, calibration et supervision d'instruments de mesure pour vos processus de production.</p>
        </div>
      </div>

      <!-- Service 5 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.5s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-chalkboard-teacher"></i></div>
          <h3>Formation Industrielle</h3>
          <p>Formations certifiantes pour vos √©quipes en automatisme, supervision industrielle et nouvelles technologies.</p>
        </div>
      </div>

      <!-- Service 6 -->
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.6s">
        <div class="service-card">
          <div class="service-icon"><i class="fas fa-headset"></i></div>
          <h3>Supports clients de haute qualit√©</h3>
          <p>Assistance proactive et support technique pour garantir la disponibilit√© et la performance de vos syst√®mes.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="about-section py-5" id="about">
  <div class="container">
    <div class="text-center mb-5 animate__animated animate__fadeIn">
      <h2 class="section-title">√Ä propos de <span>SMS2I</span></h2>
      <p class="section-subtitle">Votre partenaire de confiance pour l'automatisation et la maintenance industrielle</p>
    </div>
    <div class="row align-items-center g-4">
      <!-- Carte Google √† gauche -->
      <div class="col-lg-6 animate__animated animate__fadeInLeft">
        <div class="ratio ratio-4x3 rounded shadow-sm">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d1343.6404891536794!2d10.561611!3d35.728208!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2stn!4v1700000000000!5m2!1sfr!2stn"
            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>

      <!-- Texte √† droite -->
      <div class="col-lg-6 animate__animated animate__fadeInRight">
        <div class="about-content">
          <p><strong>SMS2I</strong> (Services et Maintenance des Syst√®mes Informatiques et Industriels) a vu le jour en mai 2008, port√©e par l'expertise de plusieurs enseignants universitaires. Depuis, nous nous engageons √† fournir des solutions sur mesure pour optimiser vos processus industriels.</p>
          <p>Bas√©s √† la zone industrielle de Messaadine (Immeuble N√©odeme, Sousse), nous sommes reconnus pour notre rigueur, la qualit√© de nos interventions et notre capacit√© √† innover en partenariat avec les plus grands (Siemens, Endress+Hauser, etc.).</p>
          <button class="btn btn-story mt-3" data-bs-toggle="modal" data-bs-target="#histoireModal">
            üìñ Notre histoire <i class="fas fa-arrow-right ms-2"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section py-5 bg-light" id="features">
  <div class="container">
    <div class="text-center mb-5 animate__animated animate__fadeIn">
      <h2 class="section-title">Pourquoi choisir SMS2I ?</h2>
      <p class="section-subtitle">Notre expertise fait la diff√©rence</p>
    </div>

    <div class="row g-4">
      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.1s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-certificate"></i></div>
          <h3>Partenaire Siemens</h3>
          <p>Int√©grateur officiel de SIEMENS SA depuis 2010 et bient√¥t Solution Partner en Automatisme.</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.2s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-users"></i></div>
          <h3>√âquipe qualifi√©e</h3>
          <p>Une √©quipe d'experts en √©lectrique, √©lectronique, m√©canique, automatisme et informatique industriel.</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.3s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-globe"></i></div>
          <h3>Port√©e internationale</h3>
          <p>Collaboration avec des fournisseurs de solutions industrielles en Afrique.</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.4s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-medal"></i></div>
          <h3>Qualit√© certifi√©e</h3>
          <p>Processus qualit√© rigoureux selon les normes internationales en vigueur.</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.5s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-lightbulb"></i></div>
          <h3>Solutions innovantes</h3>
          <p>Approche cr√©ative et solutions sur mesure pour r√©pondre √† vos d√©fis industriels.</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 animate__animated animate__fadeInUp" data-wow-delay="0.6s">
        <div class="feature-box">
          <div class="feature-icon"><i class="fas fa-clock"></i></div>
          <h3>Support 24/7</h3>
          <p>Assistance technique disponible 24 heures sur 24 pour vos urgences industrielles.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Modal -->
<div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="modal-header">
          <h5 class="modal-title" id="contactModalLabel">Contactez-nous</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>

        <div class="modal-body">
          <div class="row g-3">
            <!-- Nom -->
            <div class="col-md-6">
              <div class="form-floating">
                <input type="text" class="form-control" id="contact-name" formControlName="name" placeholder="Votre nom">
                <label for="contact-name">Votre nom *</label>
              </div>
              <div *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched" class="text-danger mt-1">
                Le nom est requis.
              </div>
            </div>

            <!-- Email -->
            <div class="col-md-6">
              <div class="form-floating">
                <input type="email" class="form-control" id="contact-email" formControlName="email" placeholder="Votre email">
                <label for="contact-email">Votre email *</label>
              </div>
              <div *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" class="text-danger mt-1">
                <div *ngIf="contactForm.get('email')?.errors?.['required']">L'email est requis.</div>
                <div *ngIf="contactForm.get('email')?.errors?.['email']">Format d'email invalide.</div>
              </div>
            </div>

            <!-- T√©l√©phone -->
            <div class="col-md-6">
              <div class="form-floating">
                <input type="tel" class="form-control" id="contact-phone" formControlName="phone" placeholder="Votre t√©l√©phone">
                <label for="contact-phone">Votre t√©l√©phone</label>
              </div>
            </div>

            <!-- Sujet -->
            <div class="col-md-6">
              <div class="form-floating">
                <select class="form-select" id="contact-subject" formControlName="subject">
                  <option value="" disabled selected>S√©lectionnez un sujet</option>
                  <option value="Demande de devis">Demande de devis</option>
                  <option value="Support technique">Support technique</option>
                  <option value="Information sur les formations">Information sur les formations</option>
                  <option value="Autre demande">Autre demande</option>
                </select>
                <label for="contact-subject">Sujet *</label>
              </div>
              <div *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched" class="text-danger mt-1">
                Le sujet est requis.
              </div>
            </div>

            <!-- Message -->
            <div class="col-12">
              <div class="form-floating">
                <textarea class="form-control" id="contact-message" formControlName="message" style="height: 150px" placeholder="Votre message"></textarea>
                <label for="contact-message">Votre message *</label>
              </div>
              <div *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched" class="text-danger mt-1">
                Le message est requis.
              </div>
            </div>

            <!-- Consentement -->
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="contact-consent" formControlName="consent">
                <label class="form-check-label" for="contact-consent">
                  J'autorise SMS2I √† utiliser mes informations pour r√©pondre √† ma demande.
                </label>
              </div>
              <div *ngIf="contactForm.get('consent')?.invalid && contactForm.get('consent')?.touched" class="text-danger mt-1">
                Vous devez accepter la politique de confidentialit√©.
              </div>
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid">
            <i class="fas fa-paper-plane me-2"></i>Envoyer le message
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ‚ùó Modal d'alerte si l'email est d√©j√† utilis√© -->
<div class="modal fade" id="emailExistsModal" tabindex="-1" aria-labelledby="emailExistsLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-danger">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="emailExistsLabel">Adresse email d√©j√† utilis√©e</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
      </div>
      <div class="modal-body text-center">
        Cette adresse email est d√©j√† enregistr√©e dans notre syst√®me. Veuillez utiliser une autre adresse.
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>

<!-- Gallery Section -->
<section class="gallery-section py-5" id="gallery">
  <div class="container">
    <div class="text-center mb-5 animate__animated animate__fadeIn">
      <h2 class="section-title">Nos Projets</h2>
      <p class="section-subtitle">D√©couvrez nos r√©alisations industrielles</p>
    </div>

    <div class="row g-4">
      <div
        *ngFor="let projet of projets; let i = index"
        class="col-md-6 col-lg-4 d-flex animate__animated animate__fadeInUp"
        [attr.data-wow-delay]="(i + 1) * 0.1 + 's'">
        <div class="project-card h-100 d-flex flex-column">
          <div class="project-image position-relative">
            <img [src]="projet.imageUrl" [alt]="projet.title" class="img-fluid" />
            <div class="project-overlay">
              <a class="project-btn" data-bs-toggle="modal" [attr.data-bs-target]="'#projectModal' + projet.id" aria-label="Voir le projet">
                <i class="fas fa-search-plus"></i>
              </a>
            </div>
          </div>
          <div class="project-info mt-auto">
            <h3 class="project-title">{{ projet.title }}</h3>
            <p class="project-desc">{{ projet.description }}</p>
          </div>
        </div>
      </div>
    </div>


    <!-- Modals par projet -->
    <ng-container *ngFor="let projet of projets">
      <div class="modal fade" [id]="'projectModal' + projet.id" tabindex="-1" [attr.aria-labelledby]="'projectModalLabel' + projet.id" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" [id]="'projectModalLabel' + projet.id">{{ projet.title }}</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body">
              <img [src]="projet.imageUrl" class="img-fluid mb-3" [alt]="projet.title" />
              <p><strong>Description :</strong> {{ projet.description }}</p>
              <p><strong>Dur√©e :</strong> {{ projet.duree }}</p>
              <p><strong>Client :</strong> {{ projet.client }}</p>
              <p><strong>Technologie :</strong> {{ projet.technologie }}</p>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</section>


<!-- Testimonials / Avis Section -->
<section class="testimonials-section py-5 bg-light position-relative" id="avis">
  <div class="container position-relative z-1">
    <div class="text-center mb-5 animate__animated animate__fadeIn">
      <h2 class="section-title display-5 fw-bold mb-2 text-gradient-primary">Ils Nous Font Confiance</h2>
      <p class="section-subtitle lead text-muted mb-4">D√©couvrez les t√©moignages de nos clients et partenaires</p>

      <button class="btn btn-primary px-4 py-2 rounded-pill shadow-sm lift-sm" data-bs-toggle="modal" data-bs-target="#avisModal">
        <i class="bi bi-chat-dots me-2"></i> Laisser un avis
      </button>
    </div>

    <!-- Liste des avis -->
    <div class="row g-4 justify-content-center" *ngIf="avis?.length">
      <div class="col-md-6 col-lg-4 d-flex animate__animated animate__fadeInUp" 
           *ngFor="let t of avis; let i = index"
           [style.animation-delay]="(i * 0.1) + 's'">
        <article class="testimonial-card card border-0 shadow-sm h-100 w-100 overflow-hidden hover-lift">
          <div class="card-body p-4 d-flex flex-column">
            <div class="d-flex align-items-start gap-3 mb-3">
              <!-- Avatar -->
              <div class="avatar position-relative">
                <ng-container *ngIf="t.avatarUrl; else initials">
                  <img [src]="t.avatarUrl"
                       alt="{{t.firstName}} {{t.lastName}}"
                       class="avatar-img rounded-circle object-fit-cover border border-2 border-white shadow-sm">
                </ng-container>
                <ng-template #initials>
                  <div class="avatar-initials rounded-circle d-flex align-items-center justify-content-center bg-gradient-primary text-white fw-bold">
                    {{ ((t.firstName && t.firstName.length>0) ? t.firstName[0] : '').toUpperCase() }}{{ ((t.lastName && t.lastName.length>0) ? t.lastName[0] : '').toUpperCase() }}
                  </div>
                </ng-template>
                <div class="position-absolute bottom-0 end-0 bg-white rounded-circle p-1 shadow-sm">
                  <i class="bi bi-patch-check-fill text-primary"></i>
                </div>
              </div>

              <div class="flex-grow-1">
                <h3 class="h5 mb-1 fw-semibold">{{ t.firstName }} {{ t.lastName }}</h3>
                <p class="text-muted small mb-0">
                  <span class="d-inline-flex align-items-center"><i class="bi bi-briefcase me-1"></i>{{ t.role }}</span>
                  <span class="text-body-secondary mx-2">‚Ä¢</span>
                  <span class="d-inline-flex align-items-center"><i class="bi bi-building me-1"></i>{{ t.company }}</span>
                </p>
              </div>
            </div>

            <p class="testimonial-text mt-auto mb-0 position-relative ps-3">
              <i class="bi bi-quote text-primary opacity-25 position-absolute start-0 top-0 fs-1"></i>
              {{ t.review }}
            </p>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<!-- Modal Ajouter un avis -->
<div class="modal fade" id="avisModal" tabindex="-1" aria-labelledby="avisModalLabel" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 rounded-4 overflow-hidden shadow-lg">
      <form [formGroup]="avisForm" (ngSubmit)="submitAvis()">
        <div class="modal-header bg-gradient-primary text-white border-0 py-3">
          <h5 class="modal-title d-flex align-items-center gap-2" id="avisModalLabel">
            <i class="bi bi-chat-dots-fill"></i> Ajouter un avis
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>

        <div class="modal-body p-4">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label fw-semibold" for="firstName">Pr√©nom <span class="text-danger">*</span></label>
              <input id="firstName" class="form-control form-control-lg"
                     formControlName="firstName"
                     [ngClass]="{'is-invalid': avisForm.get('firstName')?.invalid && avisForm.get('firstName')?.touched}">
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Pr√©nom requis
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold" for="lastName">Nom <span class="text-danger">*</span></label>
              <input id="lastName" class="form-control form-control-lg"
                     formControlName="lastName"
                     [ngClass]="{'is-invalid': avisForm.get('lastName')?.invalid && avisForm.get('lastName')?.touched}">
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Nom requis
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold" for="role">Poste <span class="text-danger">*</span></label>
              <input id="role" class="form-control form-control-lg"
                     formControlName="role"
                     [ngClass]="{'is-invalid': avisForm.get('role')?.invalid && avisForm.get('role')?.touched}">
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Poste requis
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold" for="company">Soci√©t√© <span class="text-danger">*</span></label>
              <input id="company" class="form-control form-control-lg"
                     formControlName="company"
                     [ngClass]="{'is-invalid': avisForm.get('company')?.invalid && avisForm.get('company')?.touched}">
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Soci√©t√© requise
              </div>
            </div>

            <div class="col-12">
              <label class="form-label fw-semibold" for="email">Email <span class="text-danger">*</span></label>
              <input id="email" type="email" class="form-control form-control-lg"
                     formControlName="email"
                     [ngClass]="{'is-invalid': avisForm.get('email')?.invalid && avisForm.get('email')?.touched}">
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Email valide requis
              </div>
            </div>

            <div class="col-12">
              <label class="form-label fw-semibold" for="review">Votre avis <span class="text-danger">*</span></label>
              <textarea id="review" rows="4" class="form-control form-control-lg"
                        formControlName="review"
                        [ngClass]="{'is-invalid': avisForm.get('review')?.invalid && avisForm.get('review')?.touched}"></textarea>
              <div class="invalid-feedback d-flex align-items-center gap-1">
                <i class="bi bi-exclamation-circle"></i> Avis requis
              </div>
            </div>

            <div class="col-12">
              <label class="form-label fw-semibold" for="file">Photo personnelle</label>
              <input id="file" type="file" class="form-control form-control-lg" 
                     (change)="onAvisFileChange($event)" 
                     accept="image/*">
              <div class="form-text">Formats accept√©s : JPG, PNG, WebP (max 2MB)</div>
              
              <div *ngIf="imagePreview" class="mt-3 text-center">
                <img [src]="imagePreview" alt="Pr√©visualisation" 
                     class="img-thumbnail rounded-4 preview-img border-dashed shadow-sm">
              </div>
            </div>
          </div>

          <div *ngIf="modalError" class="alert alert-danger mt-4 d-flex align-items-center gap-2">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <div>{{ modalError }}</div>
          </div>
          <div *ngIf="modalSuccess" class="alert alert-success mt-4 d-flex align-items-center gap-2">
            <i class="bi bi-check-circle-fill"></i>
            <div>{{ modalSuccess }}</div>
          </div>
        </div>

        <div class="modal-footer border-0 bg-light py-3 px-4">
          <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-bs-dismiss="modal">
            Annuler
          </button>
          <button type="submit" class="btn btn-primary rounded-pill px-4 lift-sm" 
                  [disabled]="avisForm.invalid || saving">
            <span *ngIf="!saving" class="d-inline-flex align-items-center gap-2">
              <i class="bi bi-send-fill"></i> Envoyer
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


<!-- Modal Notre Histoire -->
<div class="modal fade" id="histoireModal" tabindex="-1" aria-labelledby="histoireModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="histoireModalLabel">Notre Histoire ‚Äì Groupe SMS2I</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
      </div>

      <div class="modal-body">
        <p><strong>SMS2I</strong>, acronyme de <em>Services et Maintenance des Syst√®mes Informatiques et Industriels</em>, a √©t√© fond√©e en mai 2008 par un groupe d‚Äôenseignants universitaires passionn√©s. Leur ambition : offrir aux entreprises tunisiennes des solutions fiables en automatisation, supervision et maintenance industrielle.</p>
        <p>Implant√©e √† la zone industrielle de Messaadine (Immeuble N√©odeme ‚Äì Sousse), l‚Äôentreprise a su se distinguer par son s√©rieux, la qualit√© de ses interventions et sa capacit√© √† innover, en s‚Äôappuyant sur des comp√©tences pluridisciplinaires (√©lectricit√©, √©lectronique, m√©canique, automatisme, informatique industrielle).</p>
        <p>En 2010, SMS2I devient int√©grateur officiel de <strong>SIEMENS SA</strong> et aspire √† obtenir prochainement le statut de <em>Solution Partner</em> dans le domaine de l‚Äôautomatisme industriel.</p>
        <p>Gr√¢ce √† cette reconnaissance, la soci√©t√© a su nouer des partenariats avec de grands acteurs internationaux tels que <strong>PCM France</strong> et <strong>IPI Italie</strong>.</p>

        <hr class="my-4">

        <div class="text-center">
          <h6 class="mb-3 text-uppercase fw-bold">Architecture du Groupe SMS2I</h6>
          <img src="assets/sms2iimage.png" alt="Architecture du Groupe SMS2I" class="img-fluid rounded shadow-sm border" style="max-height: 75vh; object-fit: contain;">
          <small class="d-block text-muted mt-2 fst-italic">Structure des entit√©s locales et internationales</small>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>


<!-- Footer -->
<footer class="bg-dark text-light pt-5 pb-4 mt-5 shadow-lg">
  <div class="container">
    <div class="row">
      <!-- Logo et description -->
      <div class="col-md-4 mb-4">
        <h5 class="fw-bold text-uppercase mb-3"><i class="fas fa-cogs me-2"></i>SMS2I</h5>
        <p>SMS2I est votre partenaire de confiance dans l'automatisation industrielle, la formation technique, et les services de maintenance sur mesure.</p>
        <div class="d-flex gap-2">
          <a href="https://www.facebook.com/people/SMS2i/100067593331912/" class="text-light fs-5"><i class="fab fa-facebook-f"></i></a>
          <a href="https://fr.linkedin.com/company/sms2i" class="text-light fs-5"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" class="text-light fs-5"><i class="fab fa-youtube"></i></a>
        </div>
      </div>

      <!-- Liens rapides -->
      <div class="col-md-4 mb-4">
        <h6 class="text-uppercase fw-bold mb-3">Navigation</h6>
        <ul class="list-unstyled">
          <li><a href="/acceuil" class="text-light text-decoration-none">Accueil</a></li>
          <li><a href="/service" class="text-light text-decoration-none">Services</a></li>
          <li><a href="/galerie" class="text-light text-decoration-none">Galerie</a></li>
          <li><a href="/formation" class="text-light text-decoration-none">Formations</a></li>
        </ul>
      </div>

      <!-- Contact rapide -->
      <div class="col-md-4 mb-4">
        <h6 class="text-uppercase fw-bold mb-3">Contact</h6>
        <p><i class="fas fa-map-marker-alt me-2"></i>Rue 14 janvier (GP1), Imm Neodeme 1ere Etage, Messadine 4013, Sousse</p>
        <p><i class="fas fa-phone me-2"></i>+216 73 284 160</p>
        <p><i class="fas fa-envelope me-2"></i>contact&#64;sms2i.com.tn</p>
      </div>
    </div>

    <hr class="border-top border-light">

    <div class="text-center small">
      &copy; {{ currentYear || '2025' }} SMS2I. Tous droits r√©serv√©s.
    </div>
  </div>
</footer>
